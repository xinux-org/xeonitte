<div align="center">

<img src="data/icons/org.xinux.Xeonitte.svg"/>

# Xeonitte

A graphical installer for NixOS based distributions.

<p align="center">
    <img align="center" src="https://img.shields.io/github/languages/top/xinux-org/xeonitte?style=flat&logo=nixos&logoColor=5277C3&labelColor=ffffff&color=ffffff" alt="Top Used Language">
    <a href="https://github.com/xinux-org/xeonitte/actions/workflows/ci.yml"><img align="center" src="https://img.shields.io/github/actions/workflow/status/uzinfocom-org/instances/test.yml?style=flat&logo=github&logoColor=5277C3&labelColor=ffffff&color=ffffff" alt="Test CI"></a>
</p>

<img src="data/screenshots/installing-light.png#gh-light-mode-only"/>
<img src="data/screenshots/installing-dark.png#gh-dark-mode-only"/>
</div>

## Development

This application has Linux-only dependencies.
```bash
# download dependencies
nix develop 

# Initiate meson environment for the first time. This will generate ./src/config.rs
meson setup build

# build the project
nix build --show--trace

# Go one folder back and run bin outside of nix-shell.
cd ..
./xeonitte/result/bin/xeonitte

# Optional. Generate translation words from /po/POTFILES.in if needed.
cd ./po
xgettext --directory=.. --files-from=POTFILES.in --from-code=UTF-8 -kgettext -o translations.pot
```

All ./config folder data will be generated by meson after `nix build`. The code searchs for files from /etc/xeonitte so you will grab it manually from ./result/xeonitte folder and put it /etc/xeonitte.
```bash
sudo cp -r ./result/etc/xeonitte /etc/xeonitte
```

## Code formatter and checkers
```bash
nix fmt .
nix flake check --system x86_64-linux --show-trace
nix repl :lf .

# geting narHash
nix flake prefetch "github:xinux-org/modules"
# getting rev
git rev-parse main
```